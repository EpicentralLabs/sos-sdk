/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  isProgramError,
  type Address,
  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
  type SolanaError,
} from "@solana/kit";
import { OPTION_PROGRAM_PROGRAM_ADDRESS } from "../programs";

/** OptionExpired: Option has already expired */
export const OPTION_PROGRAM_ERROR__OPTION_EXPIRED = 0x1770; // 6000
/** InvalidExpirationDate: Invalid expiration date - must be in the future */
export const OPTION_PROGRAM_ERROR__INVALID_EXPIRATION_DATE = 0x1771; // 6001
/** InvalidPricingParameters: Invalid pricing parameters */
export const OPTION_PROGRAM_ERROR__INVALID_PRICING_PARAMETERS = 0x1772; // 6002
/** PositionAlreadyClosed: Position is already closed */
export const OPTION_PROGRAM_ERROR__POSITION_ALREADY_CLOSED = 0x1773; // 6003
/** UnauthorizedExercise: Unauthorized to exercise this option */
export const OPTION_PROGRAM_ERROR__UNAUTHORIZED_EXERCISE = 0x1774; // 6004
/** OptionOutOfMoney: Option is out of the money and cannot be exercised */
export const OPTION_PROGRAM_ERROR__OPTION_OUT_OF_MONEY = 0x1775; // 6005
/** InsufficientCollateral: Insufficient collateral provided */
export const OPTION_PROGRAM_ERROR__INSUFFICIENT_COLLATERAL = 0x1776; // 6006
/** InvalidOptionType: Invalid option type */
export const OPTION_PROGRAM_ERROR__INVALID_OPTION_TYPE = 0x1777; // 6007
/** InvalidStrikePrice: Strike price must be greater than zero */
export const OPTION_PROGRAM_ERROR__INVALID_STRIKE_PRICE = 0x1778; // 6008
/** InvalidQuantity: Quantity must be greater than zero */
export const OPTION_PROGRAM_ERROR__INVALID_QUANTITY = 0x1779; // 6009
/** OptionAlreadyExercised: Option has already been exercised */
export const OPTION_PROGRAM_ERROR__OPTION_ALREADY_EXERCISED = 0x177a; // 6010
/** StaleMarketData: Market data is stale and needs to be updated */
export const OPTION_PROGRAM_ERROR__STALE_MARKET_DATA = 0x177b; // 6011
/** InvalidVolatility: Volatility must be greater than zero */
export const OPTION_PROGRAM_ERROR__INVALID_VOLATILITY = 0x177c; // 6012
/** InvalidRiskFreeRate: Risk-free rate must be non-negative */
export const OPTION_PROGRAM_ERROR__INVALID_RISK_FREE_RATE = 0x177d; // 6013
/** InvalidUnderlyingPrice: Underlying price is invalid */
export const OPTION_PROGRAM_ERROR__INVALID_UNDERLYING_PRICE = 0x177e; // 6014
/** InvalidTimeToExpiration: Time to expiration must be positive */
export const OPTION_PROGRAM_ERROR__INVALID_TIME_TO_EXPIRATION = 0x177f; // 6015
/** StaleOraclePrice: Oracle price is too old */
export const OPTION_PROGRAM_ERROR__STALE_ORACLE_PRICE = 0x1780; // 6016
/** LowOraclePriceConfidence: Oracle price confidence is too low */
export const OPTION_PROGRAM_ERROR__LOW_ORACLE_PRICE_CONFIDENCE = 0x1781; // 6017
/** InvalidOracleAccount: Invalid oracle account - cannot parse price feed */
export const OPTION_PROGRAM_ERROR__INVALID_ORACLE_ACCOUNT = 0x1782; // 6018
/** OraclePriceUnavailable: Oracle price is unavailable */
export const OPTION_PROGRAM_ERROR__ORACLE_PRICE_UNAVAILABLE = 0x1783; // 6019
/** InvalidOraclePrice: Invalid oracle price - must be positive */
export const OPTION_PROGRAM_ERROR__INVALID_ORACLE_PRICE = 0x1784; // 6020
/** InsufficientBalance: Insufficient balance for premium payment */
export const OPTION_PROGRAM_ERROR__INSUFFICIENT_BALANCE = 0x1785; // 6021
/** PositionNotFound: Position not found */
export const OPTION_PROGRAM_ERROR__POSITION_NOT_FOUND = 0x1786; // 6022
/** OptionAccountMismatch: Option account mismatch */
export const OPTION_PROGRAM_ERROR__OPTION_ACCOUNT_MISMATCH = 0x1787; // 6023
/** ArithmeticOverflow: Arithmetic overflow occurred */
export const OPTION_PROGRAM_ERROR__ARITHMETIC_OVERFLOW = 0x1788; // 6024
/** ArithmeticUnderflow: Arithmetic underflow occurred */
export const OPTION_PROGRAM_ERROR__ARITHMETIC_UNDERFLOW = 0x1789; // 6025
/** DivisionByZero: Division by zero */
export const OPTION_PROGRAM_ERROR__DIVISION_BY_ZERO = 0x178a; // 6026
/** PremiumCalculationFailed: Premium calculation failed */
export const OPTION_PROGRAM_ERROR__PREMIUM_CALCULATION_FAILED = 0x178b; // 6027
/** GreeksCalculationFailed: Greeks calculation failed */
export const OPTION_PROGRAM_ERROR__GREEKS_CALCULATION_FAILED = 0x178c; // 6028
/** InvalidEscrowAuthority: Invalid escrow authority */
export const OPTION_PROGRAM_ERROR__INVALID_ESCROW_AUTHORITY = 0x178d; // 6029
/** EscrowAccountFrozen: Escrow account is frozen */
export const OPTION_PROGRAM_ERROR__ESCROW_ACCOUNT_FROZEN = 0x178e; // 6030
/** MarketClosed: Market is closed */
export const OPTION_PROGRAM_ERROR__MARKET_CLOSED = 0x178f; // 6031
/** MaxPositionsReached: Maximum positions limit reached */
export const OPTION_PROGRAM_ERROR__MAX_POSITIONS_REACHED = 0x1790; // 6032
/** MinimumPositionSizeNotMet: Minimum position size not met */
export const OPTION_PROGRAM_ERROR__MINIMUM_POSITION_SIZE_NOT_MET = 0x1791; // 6033
/** MaximumPositionSizeExceeded: Maximum position size exceeded */
export const OPTION_PROGRAM_ERROR__MAXIMUM_POSITION_SIZE_EXCEEDED = 0x1792; // 6034
/** InvalidMakerAuthority: Invalid maker authority */
export const OPTION_PROGRAM_ERROR__INVALID_MAKER_AUTHORITY = 0x1793; // 6035
/** InvalidBuyerAuthority: Invalid buyer authority */
export const OPTION_PROGRAM_ERROR__INVALID_BUYER_AUTHORITY = 0x1794; // 6036
/** OptionChainFull: Option chain is full */
export const OPTION_PROGRAM_ERROR__OPTION_CHAIN_FULL = 0x1795; // 6037
/** DuplicateOption: Duplicate option exists */
export const OPTION_PROGRAM_ERROR__DUPLICATE_OPTION = 0x1796; // 6038
/** PriceImpactTooHigh: Price impact too high */
export const OPTION_PROGRAM_ERROR__PRICE_IMPACT_TOO_HIGH = 0x1797; // 6039
/** SlippageToleranceExceeded: Slippage tolerance exceeded */
export const OPTION_PROGRAM_ERROR__SLIPPAGE_TOLERANCE_EXCEEDED = 0x1798; // 6040
/** InsufficientPoolLiquidity: Insufficient pool liquidity available */
export const OPTION_PROGRAM_ERROR__INSUFFICIENT_POOL_LIQUIDITY = 0x1799; // 6041
/** InsufficientUserBalance: Insufficient user balance for withdrawal */
export const OPTION_PROGRAM_ERROR__INSUFFICIENT_USER_BALANCE = 0x179a; // 6042
/** UnhealthyPosition: Health ratio below liquidation threshold */
export const OPTION_PROGRAM_ERROR__UNHEALTHY_POSITION = 0x179b; // 6043
/** UnauthorizedOmlp: Unauthorized to perform this OMLP action */
export const OPTION_PROGRAM_ERROR__UNAUTHORIZED_OMLP = 0x179c; // 6044
/** InvalidTenor: Invalid loan tenor */
export const OPTION_PROGRAM_ERROR__INVALID_TENOR = 0x179d; // 6045
/** InvalidRate: Invalid interest rate */
export const OPTION_PROGRAM_ERROR__INVALID_RATE = 0x179e; // 6046
/** NotForeclosable: Loan is not eligible for foreclosure */
export const OPTION_PROGRAM_ERROR__NOT_FORECLOSABLE = 0x179f; // 6047
/** InsufficientVaultLiquidity: Vault has insufficient liquidity */
export const OPTION_PROGRAM_ERROR__INSUFFICIENT_VAULT_LIQUIDITY = 0x17a0; // 6048
/** InsufficientLoanCollateral: Collateral insufficient for loan */
export const OPTION_PROGRAM_ERROR__INSUFFICIENT_LOAN_COLLATERAL = 0x17a1; // 6049
/** OracleTooStale: Oracle price is stale - cannot validate */
export const OPTION_PROGRAM_ERROR__ORACLE_TOO_STALE = 0x17a2; // 6050
/** ValidationRequired: Must call option_validate before borrow/settlement */
export const OPTION_PROGRAM_ERROR__VALIDATION_REQUIRED = 0x17a3; // 6051
/** HealthCalculationFailed: Health ratio calculation failed */
export const OPTION_PROGRAM_ERROR__HEALTH_CALCULATION_FAILED = 0x17a4; // 6052
/** ContractAlreadySettled: Contract already settled */
export const OPTION_PROGRAM_ERROR__CONTRACT_ALREADY_SETTLED = 0x17a5; // 6053
/** NoYieldAvailable: No yield available to claim */
export const OPTION_PROGRAM_ERROR__NO_YIELD_AVAILABLE = 0x17a6; // 6054
/** UnauthorizedAccess: Unauthorized access - you don't own this resource */
export const OPTION_PROGRAM_ERROR__UNAUTHORIZED_ACCESS = 0x17a7; // 6055
/** InsufficientQuantity: Insufficient quantity available in ask position */
export const OPTION_PROGRAM_ERROR__INSUFFICIENT_QUANTITY = 0x17a8; // 6056
/** NothingToClaim: Nothing to claim - no unclaimed premium */
export const OPTION_PROGRAM_ERROR__NOTHING_TO_CLAIM = 0x17a9; // 6057
/** PoolNotActive: Pool is not active */
export const OPTION_PROGRAM_ERROR__POOL_NOT_ACTIVE = 0x17aa; // 6058
/** PoolAlreadyExists: Pool already exists for this option */
export const OPTION_PROGRAM_ERROR__POOL_ALREADY_EXISTS = 0x17ab; // 6059
/** PoolNotExercised: Pool has not been exercised yet */
export const OPTION_PROGRAM_ERROR__POOL_NOT_EXERCISED = 0x17ac; // 6060
/** AlreadySettled: Maker's collateral share has already been settled */
export const OPTION_PROGRAM_ERROR__ALREADY_SETTLED = 0x17ad; // 6061
/** InsufficientPoolCollateral: Insufficient collateral in pool for exercise */
export const OPTION_PROGRAM_ERROR__INSUFFICIENT_POOL_COLLATERAL = 0x17ae; // 6062
/** CollateralPoolNotFound: Collateral pool does not exist */
export const OPTION_PROGRAM_ERROR__COLLATERAL_POOL_NOT_FOUND = 0x17af; // 6063
/** NoCollateralToWithdraw: No collateral to withdraw */
export const OPTION_PROGRAM_ERROR__NO_COLLATERAL_TO_WITHDRAW = 0x17b0; // 6064
/** OptionNotExpired: Option has not expired yet - cannot settle */
export const OPTION_PROGRAM_ERROR__OPTION_NOT_EXPIRED = 0x17b1; // 6065
/** SupplyLimitExceeded: Deposit would exceed vault supply limit */
export const OPTION_PROGRAM_ERROR__SUPPLY_LIMIT_EXCEEDED = 0x17b2; // 6066
/** InvalidFeeWallet: Invalid fee wallet - must match protocol constant */
export const OPTION_PROGRAM_ERROR__INVALID_FEE_WALLET = 0x17b3; // 6067
/** InvalidProtocolFee: Invalid protocol fee rate */
export const OPTION_PROGRAM_ERROR__INVALID_PROTOCOL_FEE = 0x17b4; // 6068
/** UnderlyingAssetMismatch: Underlying asset mismatch - market data or mint does not match option */
export const OPTION_PROGRAM_ERROR__UNDERLYING_ASSET_MISMATCH = 0x17b5; // 6069
/** InvalidMint: Invalid token mint - does not match expected underlying asset */
export const OPTION_PROGRAM_ERROR__INVALID_MINT = 0x17b6; // 6070
/** BatchSizeExceeded: Batch size exceeds maximum allowed (10 positions) */
export const OPTION_PROGRAM_ERROR__BATCH_SIZE_EXCEEDED = 0x17b7; // 6071
/** NoPositionsProvided: No positions provided in batch */
export const OPTION_PROGRAM_ERROR__NO_POSITIONS_PROVIDED = 0x17b8; // 6072
/** PositionOptionMismatch: Position account does not belong to this option */
export const OPTION_PROGRAM_ERROR__POSITION_OPTION_MISMATCH = 0x17b9; // 6073
/** OptionPoolMismatch: Option account does not match the option pool's option account */
export const OPTION_PROGRAM_ERROR__OPTION_POOL_MISMATCH = 0x17ba; // 6074
/** InvalidSeed: Invalid seed - must be exactly 32 bytes */
export const OPTION_PROGRAM_ERROR__INVALID_SEED = 0x17bb; // 6075
/** InvalidAuthority: Invalid authority - does not match escrow authority */
export const OPTION_PROGRAM_ERROR__INVALID_AUTHORITY = 0x17bc; // 6076
/** EscrowAccountRequired: Escrow accounts required when borrowed_amount > 0 */
export const OPTION_PROGRAM_ERROR__ESCROW_ACCOUNT_REQUIRED = 0x17bd; // 6077
/** InvalidEscrowMaker: Escrow state maker does not match instruction maker */
export const OPTION_PROGRAM_ERROR__INVALID_ESCROW_MAKER = 0x17be; // 6078
/** EscrowMintMismatch: Escrow collateral mint does not match collateral pool mint */
export const OPTION_PROGRAM_ERROR__ESCROW_MINT_MISMATCH = 0x17bf; // 6079
/** InsufficientEscrowBalance: Insufficient balance in escrow token account */
export const OPTION_PROGRAM_ERROR__INSUFFICIENT_ESCROW_BALANCE = 0x17c0; // 6080
/** InvalidEscrowOwner: Escrow token account owner mismatch */
export const OPTION_PROGRAM_ERROR__INVALID_ESCROW_OWNER = 0x17c1; // 6081
/** InvalidEscrowMint: Escrow token account mint mismatch */
export const OPTION_PROGRAM_ERROR__INVALID_ESCROW_MINT = 0x17c2; // 6082
/** AccountFrozen: Token account is frozen and cannot be burned */
export const OPTION_PROGRAM_ERROR__ACCOUNT_FROZEN = 0x17c3; // 6083
/** InvalidAccount: Invalid account - does not match expected account */
export const OPTION_PROGRAM_ERROR__INVALID_ACCOUNT = 0x17c4; // 6084
/** UnwindRepayAccountsMissing: Unwind repayment accounts are required when active pool loans exist */
export const OPTION_PROGRAM_ERROR__UNWIND_REPAY_ACCOUNTS_MISSING = 0x17c5; // 6085
/** UnwindRepayWalletSourceMissing: Writer repayment account is required for unwind shortfall fallback */
export const OPTION_PROGRAM_ERROR__UNWIND_REPAY_WALLET_SOURCE_MISSING = 0x17c6; // 6086
/** UnwindRepayInsufficientTotalFunds: Insufficient total funds to fully repay unwind loans (principal + interest + protocol fees) */
export const OPTION_PROGRAM_ERROR__UNWIND_REPAY_INSUFFICIENT_TOTAL_FUNDS = 0x17c7; // 6087

export type OptionProgramError =
  | typeof OPTION_PROGRAM_ERROR__ACCOUNT_FROZEN
  | typeof OPTION_PROGRAM_ERROR__ALREADY_SETTLED
  | typeof OPTION_PROGRAM_ERROR__ARITHMETIC_OVERFLOW
  | typeof OPTION_PROGRAM_ERROR__ARITHMETIC_UNDERFLOW
  | typeof OPTION_PROGRAM_ERROR__BATCH_SIZE_EXCEEDED
  | typeof OPTION_PROGRAM_ERROR__COLLATERAL_POOL_NOT_FOUND
  | typeof OPTION_PROGRAM_ERROR__CONTRACT_ALREADY_SETTLED
  | typeof OPTION_PROGRAM_ERROR__DIVISION_BY_ZERO
  | typeof OPTION_PROGRAM_ERROR__DUPLICATE_OPTION
  | typeof OPTION_PROGRAM_ERROR__ESCROW_ACCOUNT_FROZEN
  | typeof OPTION_PROGRAM_ERROR__ESCROW_ACCOUNT_REQUIRED
  | typeof OPTION_PROGRAM_ERROR__ESCROW_MINT_MISMATCH
  | typeof OPTION_PROGRAM_ERROR__GREEKS_CALCULATION_FAILED
  | typeof OPTION_PROGRAM_ERROR__HEALTH_CALCULATION_FAILED
  | typeof OPTION_PROGRAM_ERROR__INSUFFICIENT_BALANCE
  | typeof OPTION_PROGRAM_ERROR__INSUFFICIENT_COLLATERAL
  | typeof OPTION_PROGRAM_ERROR__INSUFFICIENT_ESCROW_BALANCE
  | typeof OPTION_PROGRAM_ERROR__INSUFFICIENT_LOAN_COLLATERAL
  | typeof OPTION_PROGRAM_ERROR__INSUFFICIENT_POOL_COLLATERAL
  | typeof OPTION_PROGRAM_ERROR__INSUFFICIENT_POOL_LIQUIDITY
  | typeof OPTION_PROGRAM_ERROR__INSUFFICIENT_QUANTITY
  | typeof OPTION_PROGRAM_ERROR__INSUFFICIENT_USER_BALANCE
  | typeof OPTION_PROGRAM_ERROR__INSUFFICIENT_VAULT_LIQUIDITY
  | typeof OPTION_PROGRAM_ERROR__INVALID_ACCOUNT
  | typeof OPTION_PROGRAM_ERROR__INVALID_AUTHORITY
  | typeof OPTION_PROGRAM_ERROR__INVALID_BUYER_AUTHORITY
  | typeof OPTION_PROGRAM_ERROR__INVALID_ESCROW_AUTHORITY
  | typeof OPTION_PROGRAM_ERROR__INVALID_ESCROW_MAKER
  | typeof OPTION_PROGRAM_ERROR__INVALID_ESCROW_MINT
  | typeof OPTION_PROGRAM_ERROR__INVALID_ESCROW_OWNER
  | typeof OPTION_PROGRAM_ERROR__INVALID_EXPIRATION_DATE
  | typeof OPTION_PROGRAM_ERROR__INVALID_FEE_WALLET
  | typeof OPTION_PROGRAM_ERROR__INVALID_MAKER_AUTHORITY
  | typeof OPTION_PROGRAM_ERROR__INVALID_MINT
  | typeof OPTION_PROGRAM_ERROR__INVALID_OPTION_TYPE
  | typeof OPTION_PROGRAM_ERROR__INVALID_ORACLE_ACCOUNT
  | typeof OPTION_PROGRAM_ERROR__INVALID_ORACLE_PRICE
  | typeof OPTION_PROGRAM_ERROR__INVALID_PRICING_PARAMETERS
  | typeof OPTION_PROGRAM_ERROR__INVALID_PROTOCOL_FEE
  | typeof OPTION_PROGRAM_ERROR__INVALID_QUANTITY
  | typeof OPTION_PROGRAM_ERROR__INVALID_RATE
  | typeof OPTION_PROGRAM_ERROR__INVALID_RISK_FREE_RATE
  | typeof OPTION_PROGRAM_ERROR__INVALID_SEED
  | typeof OPTION_PROGRAM_ERROR__INVALID_STRIKE_PRICE
  | typeof OPTION_PROGRAM_ERROR__INVALID_TENOR
  | typeof OPTION_PROGRAM_ERROR__INVALID_TIME_TO_EXPIRATION
  | typeof OPTION_PROGRAM_ERROR__INVALID_UNDERLYING_PRICE
  | typeof OPTION_PROGRAM_ERROR__INVALID_VOLATILITY
  | typeof OPTION_PROGRAM_ERROR__LOW_ORACLE_PRICE_CONFIDENCE
  | typeof OPTION_PROGRAM_ERROR__MARKET_CLOSED
  | typeof OPTION_PROGRAM_ERROR__MAXIMUM_POSITION_SIZE_EXCEEDED
  | typeof OPTION_PROGRAM_ERROR__MAX_POSITIONS_REACHED
  | typeof OPTION_PROGRAM_ERROR__MINIMUM_POSITION_SIZE_NOT_MET
  | typeof OPTION_PROGRAM_ERROR__NO_COLLATERAL_TO_WITHDRAW
  | typeof OPTION_PROGRAM_ERROR__NO_POSITIONS_PROVIDED
  | typeof OPTION_PROGRAM_ERROR__NOT_FORECLOSABLE
  | typeof OPTION_PROGRAM_ERROR__NOTHING_TO_CLAIM
  | typeof OPTION_PROGRAM_ERROR__NO_YIELD_AVAILABLE
  | typeof OPTION_PROGRAM_ERROR__OPTION_ACCOUNT_MISMATCH
  | typeof OPTION_PROGRAM_ERROR__OPTION_ALREADY_EXERCISED
  | typeof OPTION_PROGRAM_ERROR__OPTION_CHAIN_FULL
  | typeof OPTION_PROGRAM_ERROR__OPTION_EXPIRED
  | typeof OPTION_PROGRAM_ERROR__OPTION_NOT_EXPIRED
  | typeof OPTION_PROGRAM_ERROR__OPTION_OUT_OF_MONEY
  | typeof OPTION_PROGRAM_ERROR__OPTION_POOL_MISMATCH
  | typeof OPTION_PROGRAM_ERROR__ORACLE_PRICE_UNAVAILABLE
  | typeof OPTION_PROGRAM_ERROR__ORACLE_TOO_STALE
  | typeof OPTION_PROGRAM_ERROR__POOL_ALREADY_EXISTS
  | typeof OPTION_PROGRAM_ERROR__POOL_NOT_ACTIVE
  | typeof OPTION_PROGRAM_ERROR__POOL_NOT_EXERCISED
  | typeof OPTION_PROGRAM_ERROR__POSITION_ALREADY_CLOSED
  | typeof OPTION_PROGRAM_ERROR__POSITION_NOT_FOUND
  | typeof OPTION_PROGRAM_ERROR__POSITION_OPTION_MISMATCH
  | typeof OPTION_PROGRAM_ERROR__PREMIUM_CALCULATION_FAILED
  | typeof OPTION_PROGRAM_ERROR__PRICE_IMPACT_TOO_HIGH
  | typeof OPTION_PROGRAM_ERROR__SLIPPAGE_TOLERANCE_EXCEEDED
  | typeof OPTION_PROGRAM_ERROR__STALE_MARKET_DATA
  | typeof OPTION_PROGRAM_ERROR__STALE_ORACLE_PRICE
  | typeof OPTION_PROGRAM_ERROR__SUPPLY_LIMIT_EXCEEDED
  | typeof OPTION_PROGRAM_ERROR__UNAUTHORIZED_ACCESS
  | typeof OPTION_PROGRAM_ERROR__UNAUTHORIZED_EXERCISE
  | typeof OPTION_PROGRAM_ERROR__UNAUTHORIZED_OMLP
  | typeof OPTION_PROGRAM_ERROR__UNDERLYING_ASSET_MISMATCH
  | typeof OPTION_PROGRAM_ERROR__UNHEALTHY_POSITION
  | typeof OPTION_PROGRAM_ERROR__UNWIND_REPAY_ACCOUNTS_MISSING
  | typeof OPTION_PROGRAM_ERROR__UNWIND_REPAY_INSUFFICIENT_TOTAL_FUNDS
  | typeof OPTION_PROGRAM_ERROR__UNWIND_REPAY_WALLET_SOURCE_MISSING
  | typeof OPTION_PROGRAM_ERROR__VALIDATION_REQUIRED;

let optionProgramErrorMessages: Record<OptionProgramError, string> | undefined;
if (process.env.NODE_ENV !== "production") {
  optionProgramErrorMessages = {
    [OPTION_PROGRAM_ERROR__ACCOUNT_FROZEN]: `Token account is frozen and cannot be burned`,
    [OPTION_PROGRAM_ERROR__ALREADY_SETTLED]: `Maker's collateral share has already been settled`,
    [OPTION_PROGRAM_ERROR__ARITHMETIC_OVERFLOW]: `Arithmetic overflow occurred`,
    [OPTION_PROGRAM_ERROR__ARITHMETIC_UNDERFLOW]: `Arithmetic underflow occurred`,
    [OPTION_PROGRAM_ERROR__BATCH_SIZE_EXCEEDED]: `Batch size exceeds maximum allowed (10 positions)`,
    [OPTION_PROGRAM_ERROR__COLLATERAL_POOL_NOT_FOUND]: `Collateral pool does not exist`,
    [OPTION_PROGRAM_ERROR__CONTRACT_ALREADY_SETTLED]: `Contract already settled`,
    [OPTION_PROGRAM_ERROR__DIVISION_BY_ZERO]: `Division by zero`,
    [OPTION_PROGRAM_ERROR__DUPLICATE_OPTION]: `Duplicate option exists`,
    [OPTION_PROGRAM_ERROR__ESCROW_ACCOUNT_FROZEN]: `Escrow account is frozen`,
    [OPTION_PROGRAM_ERROR__ESCROW_ACCOUNT_REQUIRED]: `Escrow accounts required when borrowed_amount > 0`,
    [OPTION_PROGRAM_ERROR__ESCROW_MINT_MISMATCH]: `Escrow collateral mint does not match collateral pool mint`,
    [OPTION_PROGRAM_ERROR__GREEKS_CALCULATION_FAILED]: `Greeks calculation failed`,
    [OPTION_PROGRAM_ERROR__HEALTH_CALCULATION_FAILED]: `Health ratio calculation failed`,
    [OPTION_PROGRAM_ERROR__INSUFFICIENT_BALANCE]: `Insufficient balance for premium payment`,
    [OPTION_PROGRAM_ERROR__INSUFFICIENT_COLLATERAL]: `Insufficient collateral provided`,
    [OPTION_PROGRAM_ERROR__INSUFFICIENT_ESCROW_BALANCE]: `Insufficient balance in escrow token account`,
    [OPTION_PROGRAM_ERROR__INSUFFICIENT_LOAN_COLLATERAL]: `Collateral insufficient for loan`,
    [OPTION_PROGRAM_ERROR__INSUFFICIENT_POOL_COLLATERAL]: `Insufficient collateral in pool for exercise`,
    [OPTION_PROGRAM_ERROR__INSUFFICIENT_POOL_LIQUIDITY]: `Insufficient pool liquidity available`,
    [OPTION_PROGRAM_ERROR__INSUFFICIENT_QUANTITY]: `Insufficient quantity available in ask position`,
    [OPTION_PROGRAM_ERROR__INSUFFICIENT_USER_BALANCE]: `Insufficient user balance for withdrawal`,
    [OPTION_PROGRAM_ERROR__INSUFFICIENT_VAULT_LIQUIDITY]: `Vault has insufficient liquidity`,
    [OPTION_PROGRAM_ERROR__INVALID_ACCOUNT]: `Invalid account - does not match expected account`,
    [OPTION_PROGRAM_ERROR__INVALID_AUTHORITY]: `Invalid authority - does not match escrow authority`,
    [OPTION_PROGRAM_ERROR__INVALID_BUYER_AUTHORITY]: `Invalid buyer authority`,
    [OPTION_PROGRAM_ERROR__INVALID_ESCROW_AUTHORITY]: `Invalid escrow authority`,
    [OPTION_PROGRAM_ERROR__INVALID_ESCROW_MAKER]: `Escrow state maker does not match instruction maker`,
    [OPTION_PROGRAM_ERROR__INVALID_ESCROW_MINT]: `Escrow token account mint mismatch`,
    [OPTION_PROGRAM_ERROR__INVALID_ESCROW_OWNER]: `Escrow token account owner mismatch`,
    [OPTION_PROGRAM_ERROR__INVALID_EXPIRATION_DATE]: `Invalid expiration date - must be in the future`,
    [OPTION_PROGRAM_ERROR__INVALID_FEE_WALLET]: `Invalid fee wallet - must match protocol constant`,
    [OPTION_PROGRAM_ERROR__INVALID_MAKER_AUTHORITY]: `Invalid maker authority`,
    [OPTION_PROGRAM_ERROR__INVALID_MINT]: `Invalid token mint - does not match expected underlying asset`,
    [OPTION_PROGRAM_ERROR__INVALID_OPTION_TYPE]: `Invalid option type`,
    [OPTION_PROGRAM_ERROR__INVALID_ORACLE_ACCOUNT]: `Invalid oracle account - cannot parse price feed`,
    [OPTION_PROGRAM_ERROR__INVALID_ORACLE_PRICE]: `Invalid oracle price - must be positive`,
    [OPTION_PROGRAM_ERROR__INVALID_PRICING_PARAMETERS]: `Invalid pricing parameters`,
    [OPTION_PROGRAM_ERROR__INVALID_PROTOCOL_FEE]: `Invalid protocol fee rate`,
    [OPTION_PROGRAM_ERROR__INVALID_QUANTITY]: `Quantity must be greater than zero`,
    [OPTION_PROGRAM_ERROR__INVALID_RATE]: `Invalid interest rate`,
    [OPTION_PROGRAM_ERROR__INVALID_RISK_FREE_RATE]: `Risk-free rate must be non-negative`,
    [OPTION_PROGRAM_ERROR__INVALID_SEED]: `Invalid seed - must be exactly 32 bytes`,
    [OPTION_PROGRAM_ERROR__INVALID_STRIKE_PRICE]: `Strike price must be greater than zero`,
    [OPTION_PROGRAM_ERROR__INVALID_TENOR]: `Invalid loan tenor`,
    [OPTION_PROGRAM_ERROR__INVALID_TIME_TO_EXPIRATION]: `Time to expiration must be positive`,
    [OPTION_PROGRAM_ERROR__INVALID_UNDERLYING_PRICE]: `Underlying price is invalid`,
    [OPTION_PROGRAM_ERROR__INVALID_VOLATILITY]: `Volatility must be greater than zero`,
    [OPTION_PROGRAM_ERROR__LOW_ORACLE_PRICE_CONFIDENCE]: `Oracle price confidence is too low`,
    [OPTION_PROGRAM_ERROR__MARKET_CLOSED]: `Market is closed`,
    [OPTION_PROGRAM_ERROR__MAXIMUM_POSITION_SIZE_EXCEEDED]: `Maximum position size exceeded`,
    [OPTION_PROGRAM_ERROR__MAX_POSITIONS_REACHED]: `Maximum positions limit reached`,
    [OPTION_PROGRAM_ERROR__MINIMUM_POSITION_SIZE_NOT_MET]: `Minimum position size not met`,
    [OPTION_PROGRAM_ERROR__NO_COLLATERAL_TO_WITHDRAW]: `No collateral to withdraw`,
    [OPTION_PROGRAM_ERROR__NO_POSITIONS_PROVIDED]: `No positions provided in batch`,
    [OPTION_PROGRAM_ERROR__NOT_FORECLOSABLE]: `Loan is not eligible for foreclosure`,
    [OPTION_PROGRAM_ERROR__NOTHING_TO_CLAIM]: `Nothing to claim - no unclaimed premium`,
    [OPTION_PROGRAM_ERROR__NO_YIELD_AVAILABLE]: `No yield available to claim`,
    [OPTION_PROGRAM_ERROR__OPTION_ACCOUNT_MISMATCH]: `Option account mismatch`,
    [OPTION_PROGRAM_ERROR__OPTION_ALREADY_EXERCISED]: `Option has already been exercised`,
    [OPTION_PROGRAM_ERROR__OPTION_CHAIN_FULL]: `Option chain is full`,
    [OPTION_PROGRAM_ERROR__OPTION_EXPIRED]: `Option has already expired`,
    [OPTION_PROGRAM_ERROR__OPTION_NOT_EXPIRED]: `Option has not expired yet - cannot settle`,
    [OPTION_PROGRAM_ERROR__OPTION_OUT_OF_MONEY]: `Option is out of the money and cannot be exercised`,
    [OPTION_PROGRAM_ERROR__OPTION_POOL_MISMATCH]: `Option account does not match the option pool's option account`,
    [OPTION_PROGRAM_ERROR__ORACLE_PRICE_UNAVAILABLE]: `Oracle price is unavailable`,
    [OPTION_PROGRAM_ERROR__ORACLE_TOO_STALE]: `Oracle price is stale - cannot validate`,
    [OPTION_PROGRAM_ERROR__POOL_ALREADY_EXISTS]: `Pool already exists for this option`,
    [OPTION_PROGRAM_ERROR__POOL_NOT_ACTIVE]: `Pool is not active`,
    [OPTION_PROGRAM_ERROR__POOL_NOT_EXERCISED]: `Pool has not been exercised yet`,
    [OPTION_PROGRAM_ERROR__POSITION_ALREADY_CLOSED]: `Position is already closed`,
    [OPTION_PROGRAM_ERROR__POSITION_NOT_FOUND]: `Position not found`,
    [OPTION_PROGRAM_ERROR__POSITION_OPTION_MISMATCH]: `Position account does not belong to this option`,
    [OPTION_PROGRAM_ERROR__PREMIUM_CALCULATION_FAILED]: `Premium calculation failed`,
    [OPTION_PROGRAM_ERROR__PRICE_IMPACT_TOO_HIGH]: `Price impact too high`,
    [OPTION_PROGRAM_ERROR__SLIPPAGE_TOLERANCE_EXCEEDED]: `Slippage tolerance exceeded`,
    [OPTION_PROGRAM_ERROR__STALE_MARKET_DATA]: `Market data is stale and needs to be updated`,
    [OPTION_PROGRAM_ERROR__STALE_ORACLE_PRICE]: `Oracle price is too old`,
    [OPTION_PROGRAM_ERROR__SUPPLY_LIMIT_EXCEEDED]: `Deposit would exceed vault supply limit`,
    [OPTION_PROGRAM_ERROR__UNAUTHORIZED_ACCESS]: `Unauthorized access - you don't own this resource`,
    [OPTION_PROGRAM_ERROR__UNAUTHORIZED_EXERCISE]: `Unauthorized to exercise this option`,
    [OPTION_PROGRAM_ERROR__UNAUTHORIZED_OMLP]: `Unauthorized to perform this OMLP action`,
    [OPTION_PROGRAM_ERROR__UNDERLYING_ASSET_MISMATCH]: `Underlying asset mismatch - market data or mint does not match option`,
    [OPTION_PROGRAM_ERROR__UNHEALTHY_POSITION]: `Health ratio below liquidation threshold`,
    [OPTION_PROGRAM_ERROR__UNWIND_REPAY_ACCOUNTS_MISSING]: `Unwind repayment accounts are required when active pool loans exist`,
    [OPTION_PROGRAM_ERROR__UNWIND_REPAY_INSUFFICIENT_TOTAL_FUNDS]: `Insufficient total funds to fully repay unwind loans (principal + interest + protocol fees)`,
    [OPTION_PROGRAM_ERROR__UNWIND_REPAY_WALLET_SOURCE_MISSING]: `Writer repayment account is required for unwind shortfall fallback`,
    [OPTION_PROGRAM_ERROR__VALIDATION_REQUIRED]: `Must call option_validate before borrow/settlement`,
  };
}

export function getOptionProgramErrorMessage(code: OptionProgramError): string {
  if (process.env.NODE_ENV !== "production") {
    return (optionProgramErrorMessages as Record<OptionProgramError, string>)[
      code
    ];
  }

  return "Error message not available in production bundles.";
}

export function isOptionProgramError<
  TProgramErrorCode extends OptionProgramError,
>(
  error: unknown,
  transactionMessage: {
    instructions: Record<number, { programAddress: Address }>;
  },
  code?: TProgramErrorCode,
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
  return isProgramError<TProgramErrorCode>(
    error,
    transactionMessage,
    OPTION_PROGRAM_PROGRAM_ADDRESS,
    code,
  );
}
